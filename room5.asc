function oInsideFirstAidKit_Look(Object *theObject, CursorMode mode)
{
  Display("Inside of first aid kit");
}

function oInsideFirstAidKit_Interact(Object *theObject, CursorMode mode)
{
  if (cEgo.HasInventory(iGreenThread))
  {
    Display("There is nothing more to get here.");
    
    cEgo.Animate(1, 9, eOnce, eBlock, eBackwards);
    cEgo.UnlockView();
    cEgo.FaceDirection(eDirectionRight);
    
    oInsideFirstAidKit.Visible = false;
    
    return;
  }
  
  Display("You pick it up and place it in your purse.");
  cEgo.Animate(3, 9, eOnce, eBlock, eForwards);
  cEgo.AddInventory(iGreenThread);
}

function oFirstAidKit_Look(Object *theObject, CursorMode mode)
{
  Display("A first aid kit");
}

function oFirstAidKit_Interact(Object *theObject, CursorMode mode)
{
  cEgo.Walk(theObject.X, theObject.Y, eBlock, eWalkableAreas);
  cEgo.FaceDirection(eDirectionRight);
  cEgo.LockViewOffset(CLARAFIRSTAIDKIT_1005, 12, 0);
  //cEgo.LockViewAligned(CLARAFIRSTAIDKIT_1005, 1, eAlignRight);
  cEgo.Animate(1, 9, eOnce, eBlock, eForwards);
  
  oInsideFirstAidKit.Visible = true;
}

function initRadar()
{
  oRadar.SetView(AIRPLANEDETAILS_5001);
  oRadar.Animate(4, 9, eRepeat, eNoBlock, eForwards);
}

function initClara()
{
  cEgo.x = 160;
  cEgo.y = 155;
  cEgo.FaceDirection(eDirectionUp);
}

function room_Load()
{
  initClara();
  initRadar();
}

function room_LeaveBottom()
{
  cEgo.ChangeRoom(3);
}

bool test = true;
Overlay *gameInfoOverlay;
function room_RepExec()
{
  if (test) {
    test = false;
    SetGameSpeed(80);
  }
  if (gameInfoOverlay != null) {
    gameInfoOverlay.Remove();
  }
  gameInfoOverlay = Overlay.CreateTextual(50, 150, 120, Game.SpeechFont, 15, String.Format("speed: %d", GetGameSpeed()));
  
  if (oInsideFirstAidKit.Visible)
  {
    mouse.Mode = eModeEmpty;
    
    if (oInsideFirstAidKit.IsUnderMouse())
    {
      mouse.Mode = eModeInteract;
    }
  }
}
